<dom-module id="post-card">
  <style>
    :host {
      border-radius: 4px 5px 4px 5px;
      cursor: pointer;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-touch-callout: none;
      padding: 0.4em;
    }

    section#header {
      border-top-left-radius: inherit;
      border-top-right-radius: inherit;
      border-bottom-left-radius: 0px;
      border-bottom-right-radius: 0px;
      background: #669DB4;
    }
    section#header[dark] {
      background: #345475;
    }

    paper-button {
      font-family: Thin;
      width: 100%;
      font-size: 1.1em;
      margin: 0em;
      padding: 0em;
      color: white;
      border-top-left-radius: inherit;
      border-top-right-radius: inherit;
      border-bottom-left-radius: 0px;
      border-bottom-right-radius: 0px;
      padding: 8px 12px;
      border: thin solid transparent;
      border-bottom: thin solid rgba(140, 140, 140, 0.5);
      background: linear-gradient(to bottom, rgba(255,255,255,0.01) 5%,rgba(255,255,255,0.05) 40%);
      text-align: left;
      text-transform: none;
    }

    paper-button:hover {
      border: thin solid rgba(140, 140, 140, 0.5);
      border-bottom: thin solid rgba(100, 100, 100, 0.5);
      background: linear-gradient(to bottom, rgba(255,255,255,0.02) 5%,rgba(255,255,255,0.10) 40%);
    }

    paper-button[dark] {
      color: #A8CCDB;
      border-bottom: thin solid rgba(80, 80, 80, 0.5);
    }

    paper-button[dark]:hover {
      border: thin solid rgba(80, 80, 80, 0.5);
      border-bottom: thin solid rgba(40, 40, 40, 0.5);
    }

    #outer {
      background: #f1f1f1;
      border-radius: inherit;
      transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),
                  0 1px 10px 0 rgba(0, 0, 0, 0.12),
                  0 2px 4px -1px rgba(0, 0, 0, 0.4);
    }
    #outer:hover {
      box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),
                  0 1px 18px 0 rgba(0, 0, 0, 0.12),
                  0 3px 5px -1px rgba(0, 0, 0, 0.4);
    }
    #outer[dark] {
      background: #8A8A8A;
    }
    #outer[name='all'], #outer[nowindow] {
      background: transparent;
      border-radius: inherit;
      box-shadow: none;
    }
    #cardContent {
      flex-direction: row;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: flex-start;
      padding: 0.5em 0em 0em 0.5em;
    }
    @media all and (min-width: 750px) and (max-width: 1280px) and (orientation: portrait) {
      #outer:not([name='all']) {
        max-width: 23.55em;
      }
    }
    @media all and (min-width: 600px) and (max-width: 1280px) and (orientation: landscape) {
      #outer:not([name='all']) {
        max-width: 23.55em;
      }
    }
    @media all and (min-width: 1280px) {
      #outer:not([name='all']) {
        max-width: 32em;
      }
    }
    ::content .card {
      margin: 0em 0.55em 0.55em 0em;
    }

  </style>
  <template>

    <section id="outer" name$="[[title]]" nowindow$="{{withoutWindow}}" dark$="[[dark]]">
      <section id="header">
        <paper-button on-tap="toggleCollapse" hidden$="[[showTitle(headline,withoutWindow)]]" dark$="[[dark]]">[[title]]</paper-button>
      </section>
      <section id="cardMain" class="content">
          <iron-collapse id="cardCollapse" opened="true" duration="1">
              <div id="cardContent">
                <content></content>
              </div>
          </iron-collapse>
      </section>
    </section>

  </template>
  <script>

  Polymer({
    is: 'post-card',

    properties: {
      headline: {
        type: String
      },
      placeholder: {
        type: String,
        value: "Diverse"
      },
      title: {
        type: String,
        computed: "getTitle(headline,placeholder)"
      },
      withoutWindow: {
        type: Boolean,
        value: false,
        reflectToAttribute: true
      },
      dark: {
        type: Boolean,
        value: false,
        reflectToAttribute: true
      }
    },

    toggleCollapse: function() {
      this.$.cardCollapse.toggle();
    },

    getTitle: function(headline,placeholder){
      if (headline)
        return headline;
      else
        return placeholder;
    },

    showTitle: function(headline,withoutWindow) {
      if(headline=='all' || withoutWindow)
        return true;
      else
        return false;
    }

  });
  </script>
</dom-module>
