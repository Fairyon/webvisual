<dom-module id="post-card">
  <style>
    :host {
      font-family: Roboto;
      border-radius: 4px 5px 4px 5px;
      cursor: pointer;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-touch-callout: none;
    }

    paper-button {
      width: 100%;
      font-size: 0.9rem;
      margin: 0em;
      padding: 0em;
      background: #669DB4;
      color: #f1f1f1;
      border-radius: 4px 5px 0px 0px;
      padding: 0.55em 1em 0.5em 1em;
    }

    paper-button[dark] {
      background: #345475;
      color: #A8CCDB;
    }

    #outer {
      background: #f1f1f1;
      border-radius: inherit;
    }
    #outer[dark] {
      background: #8A8A8A;
    }

    #cardContent {
      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      -ms-flex-wrap: wrap;
      -webkit-flex-wrap: wrap;
      flex-wrap: wrap;
      -ms-flex-pack: center;
      -webkit-justify-content: center;
      justify-content: center;
      -ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;
      padding: 0.5em 0em 0em 0.5em;
    }
    @media all and (min-width: 750px) and (max-width: 1280px) and (orientation: portrait) {
      :host {
        max-width: 45vw;
      }
    }
    @media all and (min-width: 600px) and (max-width: 1280px) and (orientation: landscape) {
      :host {
        max-width: 45vw;
      }
    }
    @media all and (min-width: 1280px) {
      :host {
        max-width: 30vw;
      }
    }
    ::content .card {
      margin: 0em 0.55em 0.55em 0em;
    }

  </style>
  <template>

    <section id="outer">

      <template is="dom-if" if="{{headline}}" restamp>
        <paper-button id="head" class="top" on-tap="toggleCollapse">{{headline}}</paper-button>
      </template>
      <section id="cardMain" class="content">
          <iron-collapse id="cardCollapse" opened duration="1">

              <div id="cardContent">
                <content></content>

              </div>
          </iron-collapse>
      </section>
    </section>

  </template>

  <script>

  Polymer({
    is: 'post-card',

    properties: {
      headline: {
        type: String,
        reflectToAttribute: true,
        observer: "calculatePlaceholder"
      },
      placeholder: {
        type: String,
        value: "Diverse"
      }
    },

    toggleCollapse: function() {
      this.$.cardCollapse.toggle();
    },

    calculatePlaceholder: function(){
      if (this.headline == "")
        this.headline = this.placeholder;
      if (this.headline == "all")
        this.style.maxWidth = "92vw";
    }

  });
  </script>
</dom-module>
