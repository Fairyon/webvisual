<link rel="import" href="../../import-customs.html"/>

<dom-module id="pages-element">
  <style></style>
  <template>
    <link href="../../css/page.css" type="text/css" rel="stylesheet"/>

    <neon-animated-pages id="pages" selected="0" animate-initial-selection>

      <loading-page id="loading"></loading-page>

      <sign-page id="nothingSelected" class="element-page" data="{{data}}" groups="{{groups}}"
       selected-group="{{selectedGroup}}" on-selectevent="_onSelected"
       selected-element="{{selectedElement}}"></sign-page>

      <selected-element-sign-page id="firstSelected" class="element-page" data="{{data}}" groups="{{groups}}"
       selected-group="{{selectedGroup}}"
       on-deselectevent="_onDeselected"
       selected-element="{{selectedElement}}"></selected-element-sign-page>

      <!-- <selected-element-sign-page id="nextSelected" class="element-page" data="{{data}}" groups="{{groups}}"
        selected-group="{{selectedGroup}}" on-deselectevent="_onDeselected" on-nextselectevent="_onNextselected"
        selected-element="{{selectedElement}}"></selected-element-sign-page> -->

    </neon-animated-pages>
  </template>

  <script>

    Polymer({
      is: 'pages-element',

      behaviors: [DataBehavior, PageBehavior,
        Polymer.NeonAnimatableBehavior, Polymer.NeonAnimationRunnerBehavior
      ],

      ready: function(){
        this.animateInitialSelection = true;
      },

      _onSelected: function(event) {
        this.$.pages.selected = 2;
        this.$.firstSelected.fire('resize');
      },

      _onDeselected: function(event) {
        this.$.pages.selected = 1;
      },

      // ,
      //
      // _onNextselected: function(event) {
      //   this.unlinkPaths('selectedElement');
      //   this.$.pages.selected = (this.$.pages.selected == 1) ? 2 : 1;
      // }

      loaded: function() {
        // this.toggleAttribute('active',false,this.$.loadSpinner);
        var self = this;
        setTimeout(function() {
          self.$.pages.selected = 1;
        },2500);

        // this.playAnimation('entry');
      }

    });

  </script>

</dom-module>
