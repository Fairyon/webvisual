<dom-module id="loading-page">
  <style>
    section#mainContent {
      height: 100%;
      width: 100%;
      position: fixed;
      display: flex;
      flex-direction: column;
      justify-content: center;
      background:#669DB4;
      color: #f1f1f1;
      /*z-index: 5;*/
    }
    @media all and (min-width: 0px) and (max-width: 950px) , all and (orientation: portrait) {
      logo-element {
        height: 20vw !important;
        width: 62vw !important;
      }
      section#messageBox {
        width: 61vw !important;
      }
    }
    logo-element {
      align-self: center;
      height: 14vw;
      width: 38vw;
      padding-bottom: 5em;
    }
    section#messageBox {
      align-self: center;
      align-items: stretch;
      display: flex;
      justify-content: space-around;
      width: 37vw;
      height: 3em;
      font-family: Roboto-Condensed-Light;
      font-size: 1em;
      background: rgba(255, 255, 255, 0.1);
      /*border-top: thin dashed #f1f1f1;*/
      border-radius: 0.75em;
    }
    span {
      padding: 1em 0.5em;
    }
    rects-element {
      color: #669DB4;
      max-width: 15vw;
    }
  </style>

  <template>
    <section id="mainContent">

      <logo-element id="logo"></logo-element>

      <rects-element id="pointsLeft"></rects-element>
      <section id="messageBox">

        <span>{{message.content}}</span>
        <rects-element id="pointsRight"></rects-element>
      </section>
    </section>
  </template>

  <script>

  Polymer({
      is: 'loading-page',

      behaviors: [Polymer.NeonSharedElementAnimatableBehavior],

      properties: {
        message: {
          type: Object,
          value: function() { return {"time": new Date(), "content": "Seiteninhalt wird geladen..."}; },
          notify: true
        },
        sharedElements: {
          value: function() {
            return {
              'herologo': this.$.logo
            }
          }
        },
        animationConfig: {
          value: function() {
            return {
              'entry': [
                {animatable: this.$.logo, type: 'loading'},
                {animatable: this.$.pointsLeft, type: 'from-left'},
                {animatable: this.$.pointsRight, type: 'from-right'}
              ],
              'exit': [
                {
                  name: 'hero-animation',
                  id: 'herologo',
                  fromPage: this
                }
              ]
            }
          }
        }
      },

      computeDate: function(date){
        if((date !== undefined) && (date != "")){
          return $.format.toBrowserTimeZone(date,"HH:mm:ss");
        }
        else
          return " ";
      }
    });
  </script>

</dom-module>
